{"version":3,"sources":["api/index.js","components/Login.js","components/App.js","index.js"],"names":["loginUser","username","password","a","axios","post","data","sessionStorage","setItem","user","change","admin","token","Login","main","setMain","useState","setPassword","setUsername","React","getItem","alert","useAlert","users","useHistory","toLowerCase","pword","handleSubmit","e","preventDefault","then","resp","show","window","location","reload","className","type","id","value","placeholder","onChange","target","onClick","App","ReactDOM","render","document","getElementById"],"mappings":"gPAWO,SAAeA,EAAtB,oC,4CAAO,WAAyBC,EAAUC,GAAnC,iBAAAC,EAAA,+EAEoBC,IAAMC,KAAK,mBAAoB,CACpDJ,WACAC,aAJC,uBAEKI,EAFL,EAEKA,KAIRC,eAAeC,QAAQ,SAAUF,EAAKG,KAAKC,QAC3CH,eAAeC,QAAQ,QAASF,EAAKG,KAAKE,OAC1CJ,eAAeC,QAAQ,QAASF,EAAKM,OACrCL,eAAeC,QAAQ,OAAQF,EAAKG,KAAKR,UACzCM,eAAeC,QACb,QACA,+CAZC,kBAcIF,GAdJ,wG,yCCmEQO,MAxEf,YAAkC,EAAjBC,KAAiB,EAAXC,QAAY,IACjC,EAAgCC,mBAAS,IAAzC,mBAAOd,EAAP,KAAiBe,EAAjB,KACA,EAAgCD,mBAAS,IAAzC,mBAAOf,EAAP,KAAiBiB,EAAjB,KACA,EAAwBC,IAAMH,SAAST,eAAea,QAAQ,SAA9D,mBAAOX,EAAP,KACMY,GADN,KACcC,eAERC,GADUC,cACFvB,EAASwB,eACjBC,EAAQxB,EAgBRyB,EAAY,uCAAG,WAAOC,GAAP,SAAAzB,EAAA,6DACnByB,EAAEC,iBADiB,kBAGX7B,EAAUuB,EAAOG,GAAOI,MAAK,SAACC,GAC7BA,GAGHV,EAAMW,KAAK,qBAZjBd,EAAY,IACZD,EAAY,IACZgB,OAAOC,SAASC,UAQVd,EAAMW,KAAK,mCALE,yHAAH,sDAgBlB,OACE,yBAAKI,UAAU,UACb,yBAAKA,UAAU,WACb,0BAAMA,UAAU,sBACd,2BACEA,UAAU,QACVC,KAAK,OACLC,GAAG,OACHC,MAAO9B,EACP+B,YAAY,iBACZC,SAxCS,SAACb,GAClBV,EAAYU,EAAEc,OAAOH,UAyCf,2BACEH,UAAU,QACVC,KAAK,WACLC,GAAG,UACHC,MAAOrC,EACPsC,YAAY,iBACZC,SA5Ca,SAACb,GACtBX,EAAYW,EAAEc,OAAOH,UA6Cf,4BAAQH,UAAU,YAAYO,QAAShB,GAAvC,YAKJ,yBAAKS,UAAU,mB,QCzBNQ,EAzCH,WACV,MAA8B5B,mBAAS,IAAvC,mBACA,GADA,UACwBA,oBAAS,IAAjC,mBACA,GADA,UACgCA,mBAAS,KAAzC,mBACA,GADA,UACoCA,mBAAS,KAA7C,mBACA,GADA,UAC0BA,mBAAS,IAAnC,mBACA,GADA,UAC0BA,mBAAS,KAAnC,mBACA,GADA,UAC8BA,oBAAS,IAAvC,mBACA,GADA,UACoBA,mBAAS,KAA7B,mBACA,GADA,UACsCA,mBAAS,KAA/C,mBACA,GADA,UACwBA,mBAAS,KAAjC,mBACA,GADA,UAC0BA,mBAAS,KAAnC,mBACA,GADA,UAC4BA,mBAAS,KAArC,mBACA,GADA,UACsBA,mBAAS,OAA/B,6BAgBA,OAfWT,eAAea,QAAQ,QAwBzB,kBAAC,IAAD,MAPL,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,EAAD,SC9BVyB,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.aec23570.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport async function getSomething() {\n  try {\n    const { data } = await axios.get(\"/api/users\");\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function loginUser(username, password) {\n  try {\n    const { data } = await axios.post(\"/api/users/login\", {\n      username,\n      password,\n    });\n    sessionStorage.setItem(\"change\", data.user.change);\n    sessionStorage.setItem(\"admin\", data.user.admin);\n    sessionStorage.setItem(\"token\", data.token);\n    sessionStorage.setItem(\"user\", data.user.username);\n    sessionStorage.setItem(\n      \"email\",\n      \"guardianresourcecenter@guardianfueltech.com\"\n    );\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n","import React, { useState } from \"react\";\nimport { loginUser } from \"../api/index\";\nimport { Link } from \"react-router-dom\";\nimport { useAlert } from \"react-alert\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction Login({ main, setMain }) {\n  const [password, setPassword] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [user, setUser] = React.useState(sessionStorage.getItem(\"user\"));\n  const alert = useAlert();\n  const history = useHistory();\n  const users = username.toLowerCase();\n  const pword = password;\n\n  const changeUser = (e) => {\n    setUsername(e.target.value);\n  };\n\n  const changePassword = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const cancelCourse = () => {\n    setUsername(\"\");\n    setPassword(\"\");\n    window.location.reload();\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await loginUser(users, pword).then((resp) => {\n        if (!resp) {\n          alert.show(\"Invalid Username or Password\");\n        } else {\n          alert.show(\"Login Successfull\");\n          cancelCourse();\n        }\n      });\n    } catch (err) {\n      throw err;\n    }\n  };\n\n  return (\n    <div className=\"center\">\n      <div className=\"pagetwo\">\n        <form className=\"inputWithButtonTwo\">\n          <input\n            className=\"login\"\n            type=\"text\"\n            id=\"link\"\n            value={user}\n            placeholder=\"Enter Username\"\n            onChange={changeUser}\n          ></input>\n          <input\n            className=\"login\"\n            type=\"password\"\n            id=\"comment\"\n            value={password}\n            placeholder=\"Enter Password\"\n            onChange={changePassword}\n          ></input>\n          <button className=\"newbutton\" onClick={handleSubmit}>\n            Submit\n          </button>\n        </form>\n      </div>\n      <div className=\"centerbutton\">\n        {/* <button className=\"newbutton\" onClick={handleSubmit}>\n          Submit\n        </button> */}\n      </div>\n    </div>\n  );\n}\nexport default Login;\n","import React, { useState, useEffect } from \"react\";\nimport getSomething from \"../api/index\";\nimport Login from \"./Login\";\nimport { BrowserRouter as Brouter, Switch } from \"react-router-dom\";\nconst App = () => {\n  const [message, setMessage] = useState([]);\n  const [show, setShow] = useState(false);\n  const [callname, setCallName] = useState(\"\");\n  const [callnumber, setCallNumber] = useState(\"\");\n  const [gvrid, setGvrid] = useState(0);\n  const [notes, setNotes] = useState(\"\");\n  const [ntcflag, setNtcflag] = useState(false);\n  const [id, setId] = useState(\"\");\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [gpid, setGpid] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [gpcust, setGpcust] = useState(\"\");\n  const [sol, setSol] = useState(\"op\");\n  let user = sessionStorage.getItem(\"user\");\n  // if (!user) {\n  //   console.log(\"no\");\n  // } else {\n  // useEffect(() => {\n  //   getSomething()\n  //     .then((response) => {\n  //       let tickets = response.tickets;\n  //       setMessage(tickets);\n  //     })\n  //     .catch((error) => {\n  //       setMessage(error.message);\n  //     });\n  // }, []);\n  // }\n  if (!user) {\n    return (\n      <Brouter>\n        <Switch>\n          <Login />\n        </Switch>\n      </Brouter>\n    );\n  } else {\n    return <Brouter></Brouter>;\n  }\n};\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {\n  App\n} from './components';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}